<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>Project</title>

    <!-- Bootstrap core CSS -->
    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/navbar.css" rel="stylesheet">
	
	<!-- Style de la page -->
	<style type="text/css">
		canvas {
		  background: #eed;
		  padding: 10px;
		  border: 10px solid #ddc;
		}

		div.egcode {
		  font-family: Courier;
		  font-size: 12px;
		}
		.editor {
			background: #cfc;
			border: 10px solid #afa;
			font-family: Courier;
			font-size: 14px;
		}


		div.editor-error .text {
			background: #faa;
			border: 5px solid #f88;
			font-family: Courier;
			font-size: 14px;
			padding: 3px;
			display: none;
		}
	</style>
	
	<script>
		/* Take raw javascript code, and return moderately useful HTML */
		function prettify_code(code) {
		  var lines = code.split(/\r\n|\n|\r/);
		  var new_lines = [];
		  for (var j = 0; j < lines.length; ++j) {
			code = lines[j];
			code = code.replace(/\s/g, "&nbsp;");
			code = code.replace(/>/g, "&gt;");
			code = code.replace(/</g, "&lt;");
			new_lines.push(code);
		  }

		  pretty_code = "<div class='egcode'>" + new_lines.join("<br/>") + "</div>";
		  return pretty_code;
		}

		/*
		   Find all the javascript examples and copy their source code
		   into the associated <code> blocks.
		*/
		$(function() {
		  $("div.description").each(function(index, sel) {
			codes = $(sel).find("code.example");
			codes.each(function(i, s) {
			  var example = $(s).attr("example");
			  var code = $($(sel).find(
				"div.example." + example + " script")[0]).html();
			  $(s).html(prettify_code(code));
			 })
		  })
		})
	</script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Project</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/tabs">Les Tablatures</a></li>
            <li><a href="/create">Cree Une Tablature</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

		<!-- Main component for a primary marketing message or call to action -->
		<div class="jumbotron">
			<h1>Page De Creation d'une tablature</h1>
			<p>This example is a quick exercise to illustrate how the default, static and fixed to top navbar work. It includes the responsive CSS and HTML, so it also adapts to your viewport and device.</p>
			<p>To see the difference between static and fixed top navbars, just scroll.</p>
		</div>
		
		<div class="description sandbox">
			<div class="editor-error"><span class="text"></span></div>
				<div class="example sandbox" example="sandbox">
					<textarea id="sandbox" class="editor" style="width: 641px; height: 180px; ">new note()</textarea>
					<canvas width=625 height=160></canvas>
					<script>
						var timeout;
						var msg = $('div.editor-error .text');

						function live_code() {
						  var code = $("#sandbox").val();

						  try {
							eval(
								var canvas = $("canvas")[0];
								var renderer = new Vex.Flow.Renderer(canvas,
								Vex.Flow.Renderer.Backends.CANVAS);
								var ctx = renderer.getContext();
								ctx.setFont("Arial", 10, "").setBackgroundFillStyle("#eed");
								
								// Create and draw the tablature stave
								var tabstave = new Vex.Flow.TabStave(10, 0, 500);
								tabstave.addTabGlyph();
								tabstave.setContext(ctx).draw();
								
								// Create some notes
								var notes = [code];
								
								Vex.Flow.Formatter.FormatAndDraw(ctx, tabstave, notes);
							);
							msg.html('').hide();
						  } catch (e) {
							msg.html(e.toString()).show();
						  }

						}
						
						$('#sandbox').on('blur keyup paste', function() {
						  if (timeout) clearTimeout(timeout);
						  timeout = setTimeout(live_code, 200);
						});
						live_code();
					</script>
				</div>
			</div>
		</div>
    </div> <!-- /container -->
    
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="../resources/bootstrap.min.js"></script>
    <script src="../resources/docs.min.js"></script>
	<script src="../resources/vexflow/vexflow-debug.js"></script>
	<script src="../resources/vexflow-min.js"></script>
  </body>

</html>